<script type="text/javascript" src="/js/ckeditor.js"></script>
<script>

/*----------------navi-----------------*/
var match_num = {
  'study'         : 0,
  'food'          : 1,
  'play'          : 2,
  'live'          : 3,
}
 $(document).ready(function() {
    var url = new URL(window.location.href);
    url = url.href.split('/');
     function navi(i) {
        $(".navSubBtn").eq(i).hover(
              function() {
                $(this).attr("src", "naviAfter" + i + ".png")
              },
            function() {
                if (i != match_num[url[4]])
                    $(this).attr("src", "naviBefore" + i + ".png")
            })
     }
     for(i=0; i<4; i++) {
            navi(i);
     }
 });

 /*----------food---------*/

 var draggingStarted = 0;
 var lastMousePosition = {x: null, y: null};
 var areaOffset = $('#FpictureArea').offset();
 var containerHeight = $("#FpictureArea").outerHeight;
 var containerWidth = $("#FpictuerArea").outerWidth;
 var imageWidth;
 var imageHeight;
 var imageLoaded = 0;

 if($('#foodImg').get(0).complete) {
     ImageLoaded();
 } else {
     $('#foodImg').on('load', function() {
         ImageLoaded();
     })
 }

 function ImageLoaded() {
     imageWidth = $("#foodImg").width();
     imageHeight = $("#foodImg").height();
     imageLoaded = 1;
 }

 $('#FpictureArea').on('mousedown', function(event) {
     if(imageLoaded == 1) {
         draggingStarted = 1;

         lastMousePosition = {
             x: event.pageX - areaOffset.left,
             y: event.pageY - areaOffset.top
        };
     }
 });

 $('#FpictureArea').on('mouseup', function() {
     draggingStarted = 0;
 });

 $('#FpictureArea').on('mousemove', function(event) {
    if (draggingStarted == 1) {
        var currentMousePostition = {
            x: event.pageX - areaOffset.left,
            y: event.pageY - areaOffset.top
        };
        var changeX = currentMousePostition.x - lastMousePosition.x;
        var changeY = currentMousePostition.y - lastMousePosition.y;

        lastMousePosition = currentMousePostition;

        var imgTop = parseInt($("#foodImg").css('top'), 10);
        var imgLeft = parseInt($("#foogImg").css('left'), 10);

        var imgLeftNew = imgLeft + changeX;
        var imgTopNew = imgTop + changeY;

          
        if (imgLeftNew > 0) imgLeftNew = 0;
        if (imgLeftNew < (containerWidth - imageWidth))
          imgLeftNew = containerWidth - imageWidth;

        if (imgTopNew > 0) imgTopNew = 0;
        if (imgTopNew < -869) imgTopNew = -869;
        //if (imgTopNew < (containerHeight - imageHeight))
          //imgTopNew = containerHeight - imageHeight;
      
        $("#foodImg").css({top: imgTopNew + 'px', left: imgLeftNew + 'px'});
     }
 });


/*---------liveContent-------

$(document).ready(function() {
    var num = 1;

   $('#next').click(
       function() {
           num++;
           if(num > 5) num = 1;
           $('#picture').attr("src","live" + num + ".png");
       }
   )

   $('#prev').click(
       function() {
           num--;
           if (num == 0) num = 5;
           $('#picture').attr("src", "live" + num + ".png");
       }
   )
   
});*/



/*---------------------------後台------------------------

        ClassicEditor
            .create( document.querySelector( '#editor1' ) )
            .then( editor1 => {
                console.log( editor1 );
            } )
            .catch( error => {
                console.error( error );
            } );

        ClassicEditor
            .create( document.querySelector( '#editor2' ) )
            .then( editor2 => {
                console.log( editor2 );
            } )
            .catch( error => {
                console.error( error );
            } );
*/
        ClassicEditor
            .create( document.querySelector( '#editor3' ) )
            .then( editor3 => {
                console.log( editor3 );
            } )
            .catch( error => {
                console.error( error );
            } );












 
</script>