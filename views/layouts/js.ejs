<script>
    $(document).ready(() => {
        $("#navbtn").click(() => {
            $(".lines-button").toggleClass("close");
            if ($("#mySidenav").hasClass("closed")) {
                document.getElementById("mySidenav").style.height = "100%";
                document.getElementById("myNavLinks").style.height = "100%";
                document.getElementById("myNavPics").style.height = "100%";
                $("#mySidenav").removeClass("closed").addClass("opened");
            } else if ($("#mySidenav").hasClass("opened")) {
                document.getElementById("mySidenav").style.height = "0";
                $("#mySidenav").removeClass("opened").addClass("closed");
            }
        });
        $(document).on('focusin', function (e) {
            if ($(e.target).closest(".tox-tinymce-aux, .moxman-window, .tam-assetmanager-root").length) {
                e.stopImmediatePropagation();
            }
        });
        tinyMCE.init({
            selector: 'textarea',
            plugins: "image, advlist, table, autolink, code, link, lists, paste, preview, searchreplace, wordcount, emoticons, media",
            toolbar: "styleselect | forecolor | backcolor | bold | italic | underline | alignleft | aligncenter | alignright | alignjustify | bullist | numlist | outdent | indent | link | image | media | code ",
            quickbars_insert_toolbar: false,
            automatic_uploads: true,
            images_reuse_filename: true,
            images_upload_url: '/tinymceUploader',
            setup: (ed) => {
                ed.on('init', function (e) {
                    console.log(`${e.target.id} textarea is initialized.`);
                });
                ed.on('keyup', function () {
                    console.log(ed.getContent());
                });
                ed.on('GetContent', (e) => {
                    console.log(`${e.target.id}'s Content get caught.`);
                })
                ed.on('SetContent', (e) => {
                    console.log(`${e.target.id}'s Content get set.`);
                })
            }
        })
    });    
</script>