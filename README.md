# çµ±æ•´å¤§ç¦®åŒ…
## æŒ‡ä»¤ç¯‡
### git
#### ç•¶å¤©çµæŸå‰æ–¼masterä¸‹
```shell=
$ git pull                      //å°‡ç›®å‰æ›´æ–°èˆ‡é ç«¯repoæ•´åˆ
$ git checkout -b åå­           //å»ºç«‹åˆ†æ”¯
$ git pushå¾Œå‡ºç¾çš„é‚£è¡Œupstreamè¨­å®š //è¨­å®šå®Œå¾Œ
$ git push
```
#### æ—©ä¸Šé–‹å·¥å‰
```shell=
$ git checkout master //åˆ‡æ›å›master
$ git branch -D åå­   //åˆªé™¤ä¹‹å‰æ‰€å»ºç«‹ä¹‹branch
$ git pull            //æ›´æ–°æœ¬åœ°repo
```
### start server
```shell=
$ npm i
$ DEBUG=ncufresh19*: npm start
```
## é€²åº¦ç¯‡
ç¬¬ä¸€é€± : ç†Ÿæ‚‰æ¶æ§‹ï¼Œç¢ºå®šæ’ç‰ˆå®šå‹ï¼Œæƒ³å¥½å“ªäº›éƒ¨åˆ†è¦å¯«æ­»å“ªäº›è¦ç”¨ejsæ’
ç¬¬äºŒé€± : å¾Œç«¯åŸºæœ¬åŠŸèƒ½è¦æœƒå‹•ï¼ŒåŸºç¤æ’ç‰ˆæ¶æ§‹å¼„å¥½
ç¬¬ä¸‰ã€å››é€± : ç¶²é ç‰ˆå·®ä¸å¤šè©²å®Œæˆï¼ï¼Œå¼„å¥½å¾Œå°çµ¦ä¼åŠƒä¸Šè³‡æ–™ï¼Œå¯«æ‰‹æ©Ÿç‰ˆ
è¡åˆºæœŸ : DeeeeeBugï¼Œå„ªåŒ–ï¼Œå½©è›‹(?
> ç¨‹å¼ç¢¼è¨˜å¾—å¯«çš„å„ªç¾ä¸€é»ï¼ˆç¸®æ’ç¸®å¥½ã€è¿´åœˆç›¡é‡ä¸è¦å¤ªå¤šå±¤ï¼‰
> ä¸ç„¶ä¸‹å±†å­¸å¼Ÿå¦¹å’Œçµ„é•·æœƒçœ‹å¾—å¾ˆè¾›è‹¦
> [color=red]
>>å€å¡Šé–“è¦å¯«ä¸€é»è¨»è§£
>>ä¸ç„¶å›å»çœ‹çš„æ™‚å€™æœƒå¾ˆç—›è‹¦
>>[color=#ff6f61]

### å‘‚æ™¨ç‘€ : æ–°ç”Ÿå¿…è®€ (documents)
* æ¶æ§‹ä¸è¦å¤ªäº‚ï¼Œé¡ä¼¼çš„åˆ†é é¢¨æ ¼è¦çµ±ä¸€
### é™³çš‡å®‡ : å°éŠæˆ² (coolgame)
* æ‰¾[game engine](https://html5gameengine.com/)
* è¦åšå¥½postä»¥åŠå…¶ä»–Vulnerableçš„é˜²çŠ¯
### é‚±é¦¨å€« : å½±éŸ³å°ˆå€ (vedio)
* iframeï¼Œyoutube api
### é™³å¨æ· : Q&Aã€é—œæ–¼æˆ‘å€‘ (qna, about)
* æ’åºæ–¹æ³•
* æœå°‹æ¨¡å¼
* æ€éº¼å¯©æ ¸(è·Ÿä¼åŠƒç¢ºèª)
* loadä¸èƒ½å¤ªæ…¢
### æ­é™½éŠ“ : æ ¡åœ’åœ°åœ– (campus)
* æ‰‹æ©Ÿæ¿ï¼Œæ’ç‰ˆï¼Œå„ç¨®æ“ä½œ(æ”¾å¤§ã€æ»‘å‹•)
* äº’å‹•æ•ˆèƒ½
* 2Dè½‰3Dï¼Œ3Dè½‰2D
### æ—ç¦¹å½¤ : ä¸­å¤§ç”Ÿæ´» (life)
* lazy load
* å°å°åœ°åœ–
### é»ƒäºˆç© : ç³»æ‰€ç¤¾åœ˜ (groups)
* lazy load
### æ¥Šæ–‡å½£ : å€‹äººå°ˆå€ã€ç™»å…¥é é¢ã€å¸¸ç”¨é€£çµã€å€’æ•¸é é¢ (personal, login, link, comingsoon)
* ç¬¬ä¸€é€±å…ˆåšåˆ°æ•¸é é¢(comingsoon)ï¼Œç›¡é‡åœ¨ä¸€é€±å…§åšå®Œ
* loginåªéœ€è¦åšåˆ°loginè·¯ç”±å³å¯
* registerçš„postè¦å¯«
## å¸¸ç”¨å·¥å…·ç¯‡
### Ckeditor 5
**script**
```javascript=
<script src="https://cdn.ckeditor.com/ckeditor5/12.2.0/classic/ckeditor.js"></script>
```
**æ›ä¸Šckeditorèˆ‡æ‡‰ç”¨**
```javascript=
ClassicEditor
    .create(document.querySelector('#editor'))
    .then( neweditor => {
        console.log(neweditor)
    })
    .catch( error => {
        console.error(error);
    });
//æ‹¿è³‡æ–™
neweditor.getData()
//è¨­å®šè³‡æ–™
neweditor.setData('<p>abcd</p>')
//ç•¶å…§æ–‡æœ‰è®ŠåŒ–æ™‚
neweditor.model.document.on('change:data',()=>{
    console.log('data changed.');
})
```


### Ajax
åŠ å€‹promiseå¯èƒ½æœƒæ¯”è¼ƒé †ï¼Œæˆ–å¥½çœ‹
#### Get method
* å‰ç«¯
```javascript=
$.ajax({
    url:`/documents/require_data/?id=${id}`,
    method:'GET',
    dataType:'JSON',
    error: function(err){
        //å¤±æ•—è¦åšçš„äº‹
    },
    success: function(data){
        //æˆåŠŸè¦åšçš„äº‹
    }
});
```
* [å¾Œç«¯æ‹¿è³‡æ–™](https://expressjs.com/zh-tw/4x/api.html#req.query)
```javascript=
req.query.id
```
#### POST method
* å‰ç«¯
```javascript=
$.ajax({
    url:    "/documents/require_data",
    method:'POST',
    data: {id : id},
    error: function(err){
        //å¤±æ•—è¦åšçš„äº‹
    },
    success: function(data){
        //æˆåŠŸè¦åšçš„äº‹
    }
});
```
* å¾Œç«¯æ‹¿è³‡æ–™
```javascript=
req.body.id
```
### [EJS](https://ejs.co/#docs)
* æ¨™ç±¤ 
    > æ™®é€šè¼¸å‡ºç”¨```<%= %>```
    > åªæœ‰åœ¨è¼¸å‡ºhtmlç”¨```<%- %>```
    > ä¸æ˜¯è¼¸å‡ºç”¨```<% %>```
    > [color=yellow]
* è¨»è§£æ–¹å¼
    > ```<% /* æˆ‘æ˜¯ä¸æœƒé¡¯ç¤ºçš„è¨»è§£ã€‚ */ %>```
    > é€™æ¨£è¨»è§£æ‰ä¸æœƒé¡¯ç¤ºåœ¨ç¶²é åŸå§‹ç¢¼è£¡é¢
    > ```<!-- æˆ‘æ˜¯æœƒé¡¯ç¤ºçš„è¨»è§£ã€‚ -->```
    > é€™ç¨®æœƒé¡¯ç¤ºåœ¨ç¶²é åŸå§‹ç¢¼è£¡é¢ï¼š
    > [color=yellow]

### [Velocity.js](https://github.com/julianshapiro/velocity/wiki)
**include**
```htmlmixed=
<script src="https://cdnjs.cloudflare.com/ajax/libs/velocity/2.0.5/velocity.min.js" integrity="sha384-OAa+lnzjUAtY24vqAEB8CYxD/8pX99G3ieMIN16c7UyXUDfFrAEMK+5VDIBDkc55" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/velocity/2.0.5/velocity.ui.min.js" integrity="sha384-B81jJfvCuCC7708e/RFAhEDAXxDl+6utSMjMUPKbjXNAxc4p4swDRGU9EAqBsQiY" crossorigin="anonymous"></script>
```
**usage**
> Velocity takes a map of CSS properties and values as its > > first argument. An options object can optionally be passed > in as a second argument:
> [color=yellow]
```javascript=
$("aaa").velocity({color: "red"},{duration:500});
//or
Velocity($("aaa"),{color: "red"},{duration:500});
```



### upload image
**å‰ç«¯**
```htmlmixed=
//nameéœ€è¦ç‚ºimg
<form action="uplaodimg" method="post" enctype="multipart/form-data">
    <input type="file" name="img">
    <button type="submit">submit</button>
</form>
```
**å¾Œç«¯**
```javascript=
//ä¸Šå‚³å–®ä¸€åœ–ç‰‡
var size_in_mb = req.file.size*Math.pow(10,-6);//æª”æ¡ˆä¸å¯è¶…é4mb
if(size_in_mb<4) {
    fs.readFile(req.file.path,{encoding:"base64"},(err,bufferData)=>{//encoding file to buffer
    if(err) {return next(err);}
    /**ä¾¿bufferå¾Œè¦åšçš„äº‹ï¼Œä»¥ä¸‹å­˜åœ¨ç‚ºå­˜åœ¨mongodbï¼Œç¯„ä¾‹åƒ…ä¾›åƒè€ƒ**/
    new docImg({
        img : {
            data : bufferData,
            contentType : req.file.mimetype
        }
    }).save((err)=>{
        if(err){return next(err);}
        /*******åˆªå»æš«å­˜çš„åœ–ç‰‡********/
        fs.unlink(req.file.path, (err)=>{
            if(err){return next(err)};
        })
        res.redirect('/')
      })
    })
} else {
    /*******åˆªå»æš«å­˜çš„åœ–ç‰‡********/
    fs.unlink(req.file.path, (err)=>{
        if(err){return next(err)};
    })
}
```
**Display in Front End**
```htmlmixed=
<img src="data:contentType;base64,Bufferdata">
```
## å…¶ä»–æé†’
### åˆä½œå»ºè­°
1. é‡é»æ˜¯æºé€š
2. ä¸è¦ä¸€é–‹å§‹å°±æ‰“æ§ä¼åŠƒçµ„
    * ï¼¸ï¼¸ï¼¸ç‚ºä»€éº¼åšä¸åˆ°
    * ï¼¸ï¼¸ï¼¸æ¯”è¼ƒå¥½
    * ä¸ç„¶ï¼¸ï¼¸ï¼¸æ€éº¼æ¨£
3. åœ–ç‰‡å¦‚æœä¸å¥½æ’çš„è©±å¯ä»¥è·Ÿç¾å·¥çµ„æºé€šä¸€ä¸‹
    * ï¼¸ï¼¸åœ–å¯ä»¥å¹«æˆ‘åšæˆXæ¯”Yçš„å—ï¼Ÿ
    * ï¼¸ï¼¸åœ–å¯ä»¥å¹«æˆ‘å»èƒŒå—ï¼Ÿ
4. è¦æ¶ˆå¤±è¨˜å¾—å‘Šè¨´çµ„é•·å’Œä½ çš„éšŠå‹ï¼Œä¸è¦è®“éšŠå‹ä»¥ç‚ºä½ ç¥éš±äº†
### èªæ³•å»ºè­°
1. absolute routeğŸ‘ v.s. relative routeğŸ‘
2. css inline-styleğŸ‘ v.s. embedded styleğŸ‘Œ v.s. external stylesğŸ‘
### æ•ˆèƒ½å»ºè­°
1. åšå‹•ç•«çš„æ•ˆèƒ½ï¼šcss > velocity.js > jquery animation
2. å¦‚æœåªæ˜¯æƒ³ç”¨jqueryçš„é¸æ“‡å™¨çš„è©±ï¼š``document.querySelector()``
3. è³‡æ–™åº«queryå¯ä»¥ç”¨Promiseå¯«(æƒ³å­¸å¯ä»¥å•çµ„é•·ï¼¸ï¼¤)
4. è³‡æ–™è¡¨çš„å„ç¨®æ“ä½œ: [populate](http://mongoosejs.com/docs/populate.html) [aggrgrate](https://docs.mongodb.com/manual/aggregation/)
### å…¶ä»–å·¥å…·
1. urlè·³åˆ°ç¶²é ç‰¹å®šå€æ®µ -> ``http://ç¶²å€...../#classåç¨±``
2. åœ¨å‰ç«¯è§£æget url
    ```javascript
    var url = new URL(window.location.href);
    console.log(url.searchParams.get('æƒ³getçš„å€¼'));
    ```
3. ä¸‹è¼‰æª”æ¡ˆ -> [``res.download();``](http://expressjs.com/zh-tw/4x/api.html#res.download)

![image alt](https://theharmonyclinic.com/wp-content/uploads/2016/08/child_girl_cartoon_poor_good_posture40829013_M.jpg)